---
    title: JSçš„å‡ ç§ç»§æ‰¿æ–¹å¼
    date: 2020-04-07 17:20:35
    tags: é¢è¯• JS 
---

å” å—‘å” å—‘JSçš„ç»§æ‰¿å•¦~~~<!--more-->
#### 1. åŸå‹é“¾ç»§æ‰¿
æ–¹å¼ `son.prototype = new father()`
```javascript
function grandFather() {
    this.gF_paroperty = 'gF_paroperty'
}
grandFather.prototype.getGFPropery = function() { // ç¥–çˆ¶åŸå‹çš„æ–¹æ³•
  return this.gF_paroperty
}
function father() {
    this.fatherPropery = 'fatherPropery'
}

// å»ºç«‹ grandFather å’Œ father çš„ è¿æ¥ è®©çˆ¶äº²ç»§æ‰¿ç¥–çˆ¶ï¼ˆæ ¸å¿ƒï¼‰
father.prototype = new grandFather(); 

father.prototype.getFatherVal = function() { // çˆ¶äº²åŸå‹çš„æ–¹æ³•
  return this.fatherPropery;
}

var sonInstance = new father() // å„¿å­ç»§æ‰¿çˆ¶äº²
console.log(sonInstance.getGFPropery()); // expect output : 'gF_paroperty'
console.log(sonInstance.getFatherVal()); // expect output : fatherPropery

```

æ–¹æ³•ç¼ºé™·: å¤šä¸ªå­å®ä¾‹ä¼šæ”¹å˜å¼•ç”¨ç±»å‹
```javascript
function SuperType(){
  this.colors = ["red", "blue", "green"];
}
function SubType(){}

SubType.prototype = new SuperType();

var instance1 = new SubType();
instance1.colors.push("black");
console.log(instance1.colors); //"red,blue,green,black"

var instance2 = new SubType(); 
console.log(instance2.colors); //"red,blue,green,black"

console.log(instance2.__proto__.colors) // array[4]
```

#### 2. æ„é€ å‡½æ•° ç»“åˆ`call`ç»§æ‰¿
æè¿°ï¼šæ ¸å¿ƒä»£ç æ˜¯`SuperType.call(this)`ï¼Œåˆ›å»ºå­ç±»å®ä¾‹æ—¶è°ƒç”¨SuperTypeæ„é€ å‡½æ•°ï¼Œäºæ˜¯SubTypeçš„`æ¯ä¸ªå®ä¾‹éƒ½ä¼š`å°†SuperTypeä¸­çš„å±æ€§`å¤åˆ¶ä¸€ä»½`ã€‚
```javascript
function  SuperType(){
    this.color=["red","green","blue"];
}
SuperType.prototype.specialWay = '123'

function  SubType(){
    //ç»§æ‰¿è‡ªSuperType
    SuperType.call(this);
}
var instance1 = new SubType();
instance1.color.push("black");
// alert(instance1.color);//"red,green,blue,black"

var instance2 = new SubType();
// alert(instance2.color);//"red,green,blue"
console.log(instance2.specialWay); // outputï¼šundefined åŸå‹ä¸Šçš„å±æ€§ã€æ–¹æ³•ç»§æ‰¿ä¸äº†
```
<div class="tip">
(1) åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³•
(2) æ— æ³•å®ç°å¤ç”¨ï¼Œ`æ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®ä¾‹å‡½æ•°çš„å‰¯æœ¬`ï¼Œå½±å“æ€§èƒ½
</div>

#### 3. `Object.create` 
ä¹Ÿå°±æ˜¯æä¾›ä¸€ä¸ªè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¹¶ä¸”è¯¥å¯¹è±¡çš„__proto__æŒ‡å‘ä¼ å…¥çš„å¯¹è±¡
è¯­æ³•
```javascript
Object.create(proto[, propertiesObject])

// æ¯”è¾ƒå¥½çš„ç”¨æ³•ğŸ‘
son.prototype = Object.create(father.prototype)
```
```javascript
// åŸç†
function object(obj){
  function F(){}
  F.prototype = obj;
  return new F();
}
```
<div class="tip">
(1) åŸå‹é“¾ç»§æ‰¿å¤šä¸ªå®ä¾‹çš„å¼•ç”¨ç±»å‹å±æ€§æŒ‡å‘ç›¸åŒï¼Œå­˜åœ¨ç¯¡æ”¹çš„å¯èƒ½ã€‚
(2) æ— æ³•ä¼ é€’å‚æ•°
</div>

#### 4. ES6 `extends` `super`
```javascript
class Rectangle {
    // constructor
    constructor(height, width) {
        this.height = height;
        this.width = width;
    }
    
    // Getter
    get area() {
        return this.calcArea()
    }
    
    // Method
    calcArea() {
        return this.height * this.width;
    }
}

const rectangle = new Rectangle(10, 20);
console.log(rectangle.area);
// è¾“å‡º 200

// ç»§æ‰¿
class Square extends Rectangle {

  constructor(length) {
    super(length, length);
    
    // å¦‚æœå­ç±»ä¸­å­˜åœ¨æ„é€ å‡½æ•°ï¼Œåˆ™éœ€è¦åœ¨ä½¿ç”¨â€œthisâ€ä¹‹å‰é¦–å…ˆè°ƒç”¨ super()ã€‚
    this.name = 'Square';
  }

  get area() {
    return this.height * this.width;
  }
}

const square = new Square(10);
console.log(square.area);
// è¾“å‡º 100

```

#### 5. ES5ç»§æ‰¿å’ŒES6ç»§æ‰¿çš„åŒºåˆ«
+ ES5çš„ç»§æ‰¿å®è´¨ä¸Šæ˜¯å…ˆåˆ›å»ºå­ç±»çš„å®ä¾‹å¯¹è±¡ï¼Œç„¶åå†å°†çˆ¶ç±»çš„æ–¹æ³•æ·»åŠ åˆ°thisä¸Šï¼ˆParent.call(this)ï¼‰.  
+ ES6çš„ç»§æ‰¿æœ‰æ‰€ä¸åŒï¼Œå®è´¨ä¸Šæ˜¯å…ˆåˆ›å»ºçˆ¶ç±»çš„å®ä¾‹å¯¹è±¡thisï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®æ”¹thisã€‚
å› ä¸ºå­ç±»æ²¡æœ‰è‡ªå·±çš„thiså¯¹è±¡ï¼Œæ‰€ä»¥å¿…é¡»å…ˆè°ƒç”¨çˆ¶ç±»çš„super()æ–¹æ³•ï¼Œå¦åˆ™æ–°å»ºå®ä¾‹æŠ¥é”™ã€‚
  
  
  

å‚è€ƒé“¾æ¥ï¼š
[æ˜é‡‘](https://juejin.im/post/5bcb2e295188255c55472db0)